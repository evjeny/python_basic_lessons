# Что такое файл

Для питона файл -- ето набор байтов. Его можно читать из памяти и записывать туда же.

## Как работать с файлами

Для чтения файлов в питоне используется функция `open(filename, mode='r', ...)` (здесь `filename` -- имя файла, с которым работает программа; `mode` -- режим работы с файлом, по умолчанию `r`, то есть чтение):

```python
hello_file = open("hello.txt")
text = hello_file.read() # функция read() возвращает строку (содержимое файла)
print(text)
hello_file.close()
```

Для того, чтобы записать в файл, его надо открыть в режиме `w` (запись):

```python
new_file = open("new_file.txt", "w+")
new_file.write("Hello world!") # функция write(data) записывает в файл строку data
new_file.close()
```

Внимание на плюсик после буквы `w` -- он означает, что файл нужно создать перед записью:

```python
new_file = open("new_file.txt", "w+") # создаем файл, если не существовал
known_file = open("it_existed_somewhere.txt", "w") # файл уже существовал
```

## Как проще работать с файлами

У функции `open` одна неприятная особенность: после нее всегда нужно вызывать метод `close` (если кратко, то открытый надолго файл может закрыть другим процессам доступ к этому файлу, что помешает им нормально функционировать). В питоне, чтобы каждый раз не писать `open` и `close`, есть конструкция `with` (гуглится как *"контекстный менеджер"*):

```python
with open("cool_file.txt") as omegakek:
    print(omegakek.read())
```

Эта конструкция выделяется как отдельный блок (код, выделенный табами) и сама вызывает `close` после выхода из блока. Синтаксис:

```python
with open({стандартная команда open и ее аргументы}) as {переменная для файла}:
    {работа с файлом}
```

## Что еще можно делать с файлами

Выше показано, как работать с текстовыми файлами. При этом существует и другой вид: бинарные, то есть просто набор байтов.

В питоне строка байтов обозначается как `b"{здесь сами байты}"`, туда можно пихать любые текстовые и нетекстовые символы, например, вот так:

```python
byte_data = b"hello_i_am_\x13\37"
```

(Последовательности `\x13` и `\x37` являются шестнадцатиричными числами (`\x`) и состоят из двух разрядов: (`1`, `3`) и (`3`, `7`), каждый по 4 бита, то есть несут по одному байту информации).

Чтобы работать с файлами в байтовом режиме, нужно добавить в параметр `mode` еще одну букву: `b` (binary). Остальное ничем не отличается от текстовых файлов:

```python
with open("binary_data.data", "wb+") as f:
    f.write(b"\x02\x21\x5b\xce")
```
