from base64 import b64decode

def main():
    data = "aW1wb3J0IG9zCgpsZW5ndGhzID0gWzI1NSwgMjU2LCAyNTcsIDEwMjQsIDIwNDksIDBdCmZfbmFtZSA9ICJiaWdfZmlsZS5kYXRhIgp0ZW1wX3N0cmluZyA9IGIiaWRvbnRrbm93d2hhdHNoYXBwZW5pbmciCgpmb3IgbGksIGxlbmd0aCBpbiBlbnVtZXJhdGUobGVuZ3Rocyk6CiAgICBhcnIxID0gW10KICAgIGZvciBpIGluIHJhbmdlKGxlbmd0aCk6CiAgICAgICAgYXJyMS5hcHBlbmQodGVtcF9zdHJpbmdbaSAlIGxlbih0ZW1wX3N0cmluZyldKQogICAgCiAgICBhZGRpdGlvbmFsX3NpemUgPSAwIGlmIGxlbmd0aCAlIDI1NiA9PSAwIGVsc2UgMjU2IC0gbGVuZ3RoICUgMjU2CiAgICBhcnIyID0gWzAgZm9yIF8gaW4gcmFuZ2UoYWRkaXRpb25hbF9zaXplKV0KICAgIGFyciA9IGJ5dGVzKGFycjEgKyBhcnIyKQogICAgCiAgICB3aXRoIG9wZW4oZl9uYW1lLCAid2IrIikgYXMgZjoKICAgICAgICBmLndyaXRlKGFycikKICAgIAogICAgd2l0aCBvcGVuKCJ0YXNrMi5weSIpIGFzIGY6CiAgICAgICAgc2NyaXB0ID0gZi5yZWFkKCkKICAgICAgICBleGVjKHNjcmlwdCkKICAgIAogICAgbl9zZWdtZW50cyA9IGxlbihhcnIpIC8vIDI1NiArICgxIGlmIGxlbihhcnIpICUgMjU2ID4gMCBlbHNlIDApCiAgICBmb3Igc2kgaW4gcmFuZ2UoMSwgbl9zZWdtZW50cyArIDEpOgogICAgICAgIHNfbmFtZSA9IGYic2VnbWVudF97c2l9LmNhY2hlIgogICAgICAgIHdpdGggb3BlbihzX25hbWUsICJyYisiKSBhcyBmOgogICAgICAgICAgICBjb250ZW50ID0gZi5yZWFkKCkKICAgICAgICBzdWJfYXJyYXkgPSBhcnJbKHNpLTEpKjI1Njogc2kqMjU2XQoKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhzX25hbWUpOgogICAgICAgICAgICBvcy5yZW1vdmUoc19uYW1lKQoKICAgICAgICBpZiBjb250ZW50ICE9IHN1Yl9hcnJheToKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYi0JIg0YTQsNC50LvQtSBge3NfbmFtZX1gINC90LXQutC+0YDRgNC10LrRgtC90L7QtSDRgdC+0LTQtdGA0LbQuNC80L7QtToge2NvbnRlbnR9LCDQvtC20LjQtNCw0LvQvtGB0Yw6IHtzdWJfYXJyYXl9IikKCiAgICBwcmludChmIlt7bGkrMX0ve2xlbihsZW5ndGhzKX1dINCi0LXRgdGCINC/0YDQvtC50LTQtdC9IikK"
    script = b64decode(data.encode("utf-8")).decode("utf-8")
    exec(script)


if __name__ == "__main__":
    main()
