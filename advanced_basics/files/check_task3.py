from base64 import b64decode

def main():
    data = "aW1wb3J0IHN5cwpmcm9tIGlvIGltcG9ydCBTdHJpbmdJTwppbXBvcnQgb3MKCnRlc3RzID0gWwogICAgewogICAgICAgICJmaWxlcyI6IFsoImEudHh0IiwgIkFhQWFBYUEiKSwgKCJiLnR4dCIsICJCQkIgaXMgZXZpbCIpLCAoImMudHh0IiwgIndoYXQ/IildLAogICAgICAgICJjb21tYW5kcyI6IFsoImhpZGUiLCAiYS50eHQiKSwgKCJoaWRlIiwgImIudHh0IiksICgicmVzdG9yZSIsICJhLnR4dCIpXQogICAgfSwKICAgIHsKICAgICAgICAiZmlsZXMiOiBbKCIxLmRhdGEiLCAiU2VDckV0ISEhMUAhISIpXSwKICAgICAgICAiY29tbWFuZHMiOiBbKCJoaWRlIiwgIjEuZGF0YSIpLCAoInJlc3RvcmUiLCAiMS5kYXRhIiksICgiaGlkZSIsICIxLmRhdGEiKSwgKCJyZXN0b3JlIiwgIjEuZGF0YSIpLCAoImhpZGUiLCAiMS5kYXRhIiksICgicmVzdG9yZSIsICIxLmRhdGEiKV0KICAgIH0sCiAgICB7CiAgICAgICAgImZpbGVzIjogWygiZW1wdHkiLCAicmVhbGx5IGVtcHR5ISIpXSwKICAgICAgICAiY29tbWFuZHMiOiBbXQogICAgfQpdCgoKZm9yIHRpLCB0ZXN0IGluIGVudW1lcmF0ZSh0ZXN0cyk6CiAgICBmb3IgZl9uYW1lLCBmX2NvbnRlbnQgaW4gdGVzdFsiZmlsZXMiXToKICAgICAgICB3aXRoIG9wZW4oZl9uYW1lLCAidysiKSBhcyBmOgogICAgICAgICAgICBmLndyaXRlKGZfY29udGVudCkKICAgIAogICAgZmlsZV92aXNpYmxlID0gewogICAgICAgIGZfbmFtZTogVHJ1ZSBmb3IgZl9uYW1lLCBfIGluIHRlc3RbImZpbGVzIl0KICAgIH0KICAgIGZvciBjLCBuYW1lIGluIHRlc3RbImNvbW1hbmRzIl06CiAgICAgICAgZmlsZV92aXNpYmxlW25hbWVdID0gVHJ1ZSBpZiBjID09ICJyZXN0b3JlIiBlbHNlIEZhbHNlCgogICAgbiA9IGxlbih0ZXN0WyJjb21tYW5kcyJdKQogICAgY29tbWFuZHNfc3RyID0gW2Yie2N9IHtuYW1lfSIgZm9yIGMsIG5hbWUgaW4gdGVzdFsiY29tbWFuZHMiXV0KICAgIHF1ZXJ5ID0gc3RyKG4pICsgIlxuIiArICdcbicuam9pbihjb21tYW5kc19zdHIpICsgIlxuIgogICAgc3lzLnN0ZGluID0gU3RyaW5nSU8ocXVlcnkpCgogICAgd2l0aCBvcGVuKCJ0YXNrMy5weSIpIGFzIGY6CiAgICAgICAgc2NyaXB0ID0gZi5yZWFkKCkKICAgICAgICBleGVjKHNjcmlwdCkKICAgIAogICAgZmlsZV9jb250ZW50cyA9IGRpY3QoKQogICAgZm9yIGZfbmFtZSwgXyBpbiB0ZXN0WyJmaWxlcyJdOgogICAgICAgIHdpdGggb3BlbihmX25hbWUsICJyKyIpIGFzIGY6CiAgICAgICAgICAgIGZpbGVfY29udGVudHNbZl9uYW1lXSA9IGYucmVhZCgpCiAgICAgICAgaWYgb3MucGF0aC5leGlzdHMoZl9uYW1lKToKICAgICAgICAgICAgb3MucmVtb3ZlKGZfbmFtZSkKICAgIAogICAgZm9yIGZfbmFtZSwgZl9jb250ZW50IGluIHRlc3RbImZpbGVzIl06CiAgICAgICAgdGFyZ2V0X2NvbnRlbnQgPSBmX2NvbnRlbnQgaWYgZmlsZV92aXNpYmxlW2ZfbmFtZV0gZWxzZSAiIgogICAgICAgIGNvbnRlbnQgPSBmaWxlX2NvbnRlbnRzW2ZfbmFtZV0KCiAgICAgICAgaWYgdGFyZ2V0X2NvbnRlbnQgIT0gY29udGVudDoKICAgICAgICAgICAgcmFpc2UgRXhjZXB0aW9uKGYi0KHQvtC00LXRgNC20LjQvNC+0LUg0YTQsNC50LvQsCBge2ZfbmFtZX1gINGA0LDQstC90L4gYHtjb250ZW50fWAsINC90L4g0L7QttC40LTQsNC70L7RgdGMIGB7dGFyZ2V0X2NvbnRlbnR9YCIpCgogICAgcHJpbnQoZiJbe3RpKzF9L3tsZW4odGVzdHMpfV0g0KLQtdGB0YIg0L/RgNC+0LnQtNC10L0iKQo="
    script = b64decode(data.encode("utf-8")).decode("utf-8")
    exec(script)


if __name__ == "__main__":
    main()
